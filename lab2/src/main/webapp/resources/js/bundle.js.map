{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://lab2/./src/main/webapp/resources/ts/utils/DOMHandler.ts","webpack://lab2/./src/main/webapp/resources/ts/utils/ErrorHandler.ts","webpack://lab2/./src/main/webapp/resources/ts/utils/Validation.ts","webpack://lab2/./src/main/webapp/resources/ts/utils/CanvasHandler.ts","webpack://lab2/./src/main/webapp/resources/ts/utils/SVGHandler.ts","webpack://lab2/./src/main/webapp/resources/ts/main.ts"],"sourcesContent":["class DOMHandler {\n    private xInput: HTMLSelectElement | null = null;\n    private yInput: HTMLInputElement | null = null;\n    private canvas: HTMLCanvasElement | null = null;\n    private form: HTMLFormElement | null = null;\n\n    constructor() {\n        this.initializeElements();\n    }\n\n    private initializeElements(): void {\n        this.xInput = document.getElementById('coordinate-x') as HTMLSelectElement;\n        this.yInput = document.getElementById('coordinate-y') as HTMLInputElement;\n        this.canvas = document.getElementById('area-canvas') as HTMLCanvasElement;\n        this.form = document.getElementById('coordinates-form') as HTMLFormElement;\n    }\n\n    public getFormValues(): { x: string; y: string; r: number | null } {\n        return {\n            x: this.xInput?.value.trim() || '',\n            y: this.yInput?.value.trim() || '',\n            r: this.getSelectedRadius()\n        };\n    }\n\n    public getForm(): HTMLFormElement | null {\n        return this.form;\n    }\n\n    public getSelectedRadius(): number | null {\n        const selectedRadio = document.querySelector<HTMLInputElement>('input[name=\"radius\"]:checked');\n        return selectedRadio ? parseFloat(selectedRadio.value) : null;\n    }\n\n    public addFormSubmitListener(handler: EventListener): void {\n        this.form?.addEventListener('submit', handler);\n    }\n\n    public addYInputListener(handler: EventListener): void {\n        this.yInput?.addEventListener('input', handler);\n    }\n\n    public addXChangeListener(handler: EventListener): void {\n        this.xInput?.addEventListener('change', handler);\n    }\n\n    public addRadiusChangeListener(handler: EventListener): void {\n        const radioButtons = document.querySelectorAll('input[name=\"radius\"]');\n        radioButtons.forEach(radio => {\n            radio.addEventListener('change', handler);\n        });\n    }\n\n    public getXInput(): HTMLSelectElement | null {\n        return this.xInput;\n    }\n\n    public getYInput(): HTMLInputElement | null {\n        return this.yInput;\n    }\n\n    public setRadiusValue(value: number): void {\n        const radio = document.querySelector(`input[name=\"radius\"][value=\"${value}\"]`) as HTMLInputElement;\n        if (radio) {\n            radio.checked = true;\n        }\n    }\n}\n\nexport { DOMHandler };","const ERROR_DISPLAY_TIME = 5000; // 5 секунд\n\nclass ErrorHandler {\n    public showError(errorId: string, message: string): void {\n        const errorElement = document.getElementById(errorId);\n        if (!errorElement) {\n            console.warn(`Элемент с ID '${errorId}' не найден на странице`);\n            return;\n        }\n\n        errorElement.textContent = message;\n        errorElement.style.color = \"red\";\n        errorElement.style.fontSize = \"small\";\n        errorElement.style.display = 'block';\n\n        setTimeout(() => {\n            this.hideError(errorId);\n        }, ERROR_DISPLAY_TIME);\n    }\n\n    public hideError(errorId: string): void {\n        const errorElement = document.getElementById(errorId);\n        if (errorElement) {\n            errorElement.textContent = \"\";\n            errorElement.style.display = 'none';\n        }\n    }\n\n    public hideAllErrors(): void {\n        const errorIds = [\"error-x\", \"error-y\", \"error-r\"];\n        errorIds.forEach(id => this.hideError(id));\n    }\n}\n\nexport { ErrorHandler };","type ValidationResult = {\n    isValid: boolean;\n    errorMessage?: string;\n}\n\ntype FieldValidator = {\n    result: ValidationResult;\n    errorId: string;\n}\n\nclass Validator {\n    private validateX(xValue: string): ValidationResult {\n        if (!xValue.trim()) {\n            return {\n                isValid: false,\n                errorMessage: \"Please, select X coordinate\"\n            }\n        }\n        return {\n            isValid: true\n        }\n    }\n\n    private validateY(yValue: string): ValidationResult {\n        if (!yValue.trim()) {\n            return {\n                isValid: false,\n                errorMessage: \"Please, enter the Y coordinate\"\n            }\n        }\n        const yNumber = parseFloat(yValue);\n        if (isNaN(yNumber)) {\n            return {\n                isValid: false,\n                errorMessage: \"Y coordinate must be number\"\n            }\n        }\n        if (yNumber < -3 || yNumber > 3) {\n            return {\n                isValid: false,\n                errorMessage: \"Y coordinate must be greater than -3 and less than 3\"\n            }\n        }\n        return {\n            isValid: true\n        }\n    }\n\n    private validateR(radiusValue: number | null): ValidationResult {\n        if (radiusValue === null) {\n            return {\n                isValid: false,\n                errorMessage: \"Please, select Radius\"\n            }\n        }\n        return {\n            isValid: true\n        }\n    }\n\n    public validateAllFields(x: string, y: string, r: number | null): FieldValidator[] {\n        const xValidation = this.validateX(x);\n        const yValidation = this.validateY(y);\n        const rValidation = this.validateR(r);\n\n        return [\n            {result: xValidation, errorId: \"error-x\"},\n            {result: yValidation, errorId: \"error-y\"},\n            {result: rValidation, errorId: \"error-r\"}\n        ];\n    }\n}\n\nexport { Validator, type FieldValidator };","import {ErrorHandler} from \"./ErrorHandler\";\n\ntype CanvasPoint = {\n    x: number;\n    y: number;\n    r: number;\n    hit?: boolean;\n}\n\nclass CanvasHandler {\n    private canvas: HTMLCanvasElement | null = null;\n    private ctx: CanvasRenderingContext2D | null = null;\n    private points: CanvasPoint[] = [];\n    private currentR: number | null = null;\n\n    private readonly CANVAS_WIDTH = 200 * 2;\n    private readonly CANVAS_HEIGHT = 300 * 2;\n    private readonly CENTER_X = 100 * 2;\n    private readonly CENTER_Y = 150 * 2;\n    private readonly GRAPH_SIZE = 160 * 2;\n    private readonly MAX_R = 3;\n\n    constructor(errorHandler: ErrorHandler) {\n        this.initializeCanvas(errorHandler);\n    }\n\n    private initializeCanvas(errorHandler: ErrorHandler): void {\n        this.canvas = document.getElementById('area-canvas') as HTMLCanvasElement;\n        if (this.canvas) {\n            this.ctx = this.canvas.getContext('2d');\n            this.setupEventListeners(errorHandler);\n        }\n    }\n\n    private setupEventListeners(errorHandler: ErrorHandler): void {\n        this.canvas?.addEventListener('click', (event) => this.handleCanvasClick(event, errorHandler));\n    }\n\n    public setCurrentR(r: number | null): void {\n        this.currentR = r;\n        this.redrawPoints();\n    }\n\n    private getPointColor(point: CanvasPoint): string {\n        /* if (!this.currentR || point.r !== this.currentR) {\n            return '#808080';\n        } */\n        return point.hit ? '#00ff00' : '#ff0000';\n    }\n\n    private handleCanvasClick(event: MouseEvent, errorHandler: ErrorHandler): void {\n        if (!this.canvas || !this.currentR) {\n            if (!this.currentR) {\n                errorHandler.showError(\"error-r\", \"Please select radius R first!\");\n            }\n            return;\n        }\n\n        const rect = this.canvas.getBoundingClientRect();\n        const scale = this.GRAPH_SIZE / (this.MAX_R * 2);\n\n        const clickX = event.clientX - rect.left;\n        const clickY = event.clientY - rect.top;\n\n        console.log(\"handle canvas click\", clickX, clickY);\n\n        const graphX = (clickX - this.CENTER_X) / scale;\n        const graphY = (this.CENTER_Y - clickY) / scale;\n\n        console.log(\"handle canvas graph\", graphX, graphY);\n\n        this.submitPointToServer(graphX, graphY, this.currentR);\n    }\n\n    private submitPointToServer(x: number, y: number, r: number): void {\n        const hiddenForm = document.createElement('form');\n        hiddenForm.method = 'post';\n        hiddenForm.action = 'controller';\n        hiddenForm.style.display = 'none';\n\n        const hiddenX = document.createElement('input');\n        hiddenX.type = 'hidden';\n        hiddenX.name = 'x';\n        hiddenX.value = parseFloat(x.toFixed(2)).toString();\n        hiddenForm.appendChild(hiddenX);\n\n        const hiddenY = document.createElement('input');\n        hiddenY.type = 'hidden';\n        hiddenY.name = 'y';\n        hiddenY.value = parseFloat(y.toFixed(2)).toString();\n        hiddenForm.appendChild(hiddenY);\n\n        const hiddenR = document.createElement('input');\n        hiddenR.type = 'hidden';\n        hiddenR.name = 'radius';\n        hiddenR.value = r.toString();\n        hiddenForm.appendChild(hiddenR);\n\n        document.body.appendChild(hiddenForm);\n        hiddenForm.submit();\n    }\n\n    private drawPoint(point: CanvasPoint): void {\n        if (!this.ctx || !this.currentR) return;\n\n        const scale = this.GRAPH_SIZE / (this.MAX_R * 2);\n        const canvasX = this.CENTER_X + point.x * scale * point.r / this.currentR;\n        const canvasY = this.CENTER_Y - point.y * scale * point.r / this.currentR;\n\n        // const normalizedX = point.x / point.r;\n        // const normalizedY = point.y / point.r;\n        // const effectiveX = normalizedX * this.currentR;\n        // const effectiveY = normalizedY * this.currentR;\n        // const canvasX = this.CENTER_X + effectiveX * scale;\n        // const canvasY = this.CENTER_Y - effectiveY * scale;\n\n        this.ctx.beginPath();\n        this.ctx.arc(canvasX, canvasY, 4, 0, 2 * Math.PI);\n        this.ctx.fillStyle = this.getPointColor(point);\n        this.ctx.fill();\n        this.ctx.strokeStyle = '#ffffff';\n        this.ctx.lineWidth = 1;\n        this.ctx.stroke();\n    }\n\n    /* public clearPoints(): void {\n        this.points = [];\n        if (this.ctx) {\n            this.ctx.clearRect(0, 0, this.CANVAS_WIDTH, this.CANVAS_HEIGHT);\n        }\n    } */\n\n    private redrawPoints(): void {\n        if (!this.ctx) return;\n\n        this.ctx.clearRect(0, 0, this.CANVAS_WIDTH, this.CANVAS_HEIGHT);\n\n        this.points.forEach(point => {\n            this.drawPoint(point);\n        });\n    }\n\n    public addResultPoint(x: number, y: number, r:number, hit: boolean): void {\n        const pointToAdd: CanvasPoint = { x, y, r, hit };\n\n        this.points.push(pointToAdd);\n        if (this.currentR) {\n            this.drawPoint(pointToAdd);\n        }\n    }\n}\n\nexport { CanvasHandler };","class SVGHandler {\n    private currentR: number = 1;\n    private readonly scale: number = 53;\n    private readonly centerX: number = 200;\n    private readonly centerY: number = 300;\n\n    constructor() {\n        this.initializeSVG();\n    }\n\n    private initializeSVG(): void {\n        const selectedRadio = document.querySelector<HTMLInputElement>('input[name=\"radius\"]:checked');\n        if (selectedRadio) {\n            this.updateSVGWithR(parseFloat(selectedRadio.value));\n        }\n\n        const radiusInputs = document.querySelectorAll('input[name=\"radius\"]');\n        radiusInputs.forEach(input => {\n            input.addEventListener('change', (event) => {\n                const target = event.target as HTMLInputElement;\n                if (target.checked) {\n                    this.updateSVGWithR(parseFloat(target.value));\n                }\n            });\n        });\n    }\n\n    public updateSVGWithR(R: number): void {\n        this.currentR = R;\n\n        const R_HALF = (R / 2) * this.scale;\n        const R_FULL = R * this.scale;\n\n        const rectangle = document.getElementById('rectangle');\n        if (rectangle) {\n            rectangle.setAttribute('x', (this.centerX - R_HALF).toString());\n            rectangle.setAttribute('y', (this.centerY - R_FULL).toString());\n            rectangle.setAttribute('width', R_HALF.toString());\n            rectangle.setAttribute('height', R_FULL.toString());\n        }\n\n        const quarterCircle = document.getElementById('quarter-circle');\n        if (quarterCircle) {\n            const quarterCirclePath = `M${this.centerX},${this.centerY} \n                L${this.centerX},${this.centerY - R_FULL} \n                A${R_FULL},${R_FULL} 0 0,1 ${this.centerX + R_FULL},${this.centerY} \n                L${this.centerX},${this.centerY} Z`;\n            quarterCircle.setAttribute('d', quarterCirclePath);\n        }\n\n        const triangle = document.getElementById('triangle');\n        if (triangle) {\n            const trianglePoints = `${this.centerX},${this.centerY} \n                ${this.centerX + R_HALF},${this.centerY} \n                ${this.centerX},${this.centerY + R_HALF}`;\n            triangle.setAttribute('points', trianglePoints);\n        }\n    }\n\n    public setCurrentR(R: number): void {\n        this.updateSVGWithR(R);\n    }\n}\n\nexport { SVGHandler };","import {DOMHandler} from \"./utils/DOMHandler\";\nimport {ErrorHandler} from \"./utils/ErrorHandler\";\nimport {FieldValidator, Validator} from \"./utils/Validation\";\nimport {CanvasHandler} from \"./utils/CanvasHandler\";\nimport {SVGHandler} from \"./utils/SVGHandler\";\n\nclass MainApplication {\n    private domHandler: DOMHandler;\n    private errorHandler: ErrorHandler;\n    private validator: Validator;\n    private canvasHandler: CanvasHandler;\n    private svgHandler: SVGHandler;\n\n    constructor() {\n        this.domHandler = new DOMHandler();\n        this.errorHandler = new ErrorHandler();\n        this.validator = new Validator();\n        this.canvasHandler = new CanvasHandler(this.errorHandler);\n        this.svgHandler = new SVGHandler();\n\n        this.initializeEventListeners();\n        this.initializeResultPoints();\n    }\n\n    private handleRadiusChange(): void {\n        const r = this.domHandler.getSelectedRadius();\n        if (r !== null) {\n            this.canvasHandler.setCurrentR(r);\n            this.svgHandler.setCurrentR(r);\n        }\n    }\n\n    private initializeResultPoints(): void {\n        const resultRows = document.querySelectorAll('.result-row');\n        resultRows.forEach(row => {\n            const cells = row.querySelectorAll('.result-cell');\n            if (cells.length >= 4) {\n                const x = parseFloat(cells[0].textContent || '');\n                const y = parseFloat(cells[1].textContent || '');\n                const r = parseFloat(cells[2].textContent || '');\n                const hit = cells[3].textContent === 'Yes';\n\n                if (!isNaN(x) && !isNaN(y) && !isNaN(r)) {\n                    this.canvasHandler.addResultPoint(x, y, r, hit);\n                }\n            }\n        });\n\n        const firstResult = document.querySelector('.result-row');\n        if (firstResult) {\n            const rCell = firstResult.querySelector('.result-cell:nth-child(3)');\n            if (rCell) {\n                const r = parseFloat(rCell.textContent || '');\n                if (!isNaN(r)) {\n                    this.domHandler.setRadiusValue(r);\n                    this.canvasHandler.setCurrentR(r);\n                    this.svgHandler.setCurrentR(r);\n                }\n            }\n        }\n    }\n\n    private initializeEventListeners(): void {\n        this.domHandler.addYInputListener((e) => this.handleYInput(e));\n        this.domHandler.addXChangeListener(() => this.hideError('error-x'));\n        this.domHandler.addRadiusChangeListener(() => this.handleRadiusChange());\n        this.domHandler.getForm()?.reset();\n        this.domHandler.addFormSubmitListener((e) => this.handleFormSubmit(e));\n    }\n\n    private handleFormSubmit(event: Event): void {\n        event.preventDefault();\n        const formValues = this.domHandler.getFormValues();\n        const validations = this.validator.validateAllFields(formValues.x, formValues.y, formValues.r);\n\n        if (this.handleValidationResults(validations)) {\n            this.domHandler.getForm()?.submit();\n        }\n    }\n\n    private handleYInput(event: Event): void {\n        const input = event.target as HTMLInputElement;\n        input.value = input.value.replace(/[^0-9.-]/g, '');\n        this.errorHandler.hideError('error-y');\n    }\n\n    private handleValidationResults(validations: FieldValidator[]): boolean {\n        this.errorHandler.hideAllErrors();\n        return validations.every(validation => {\n            if (!validation.result.isValid) {\n                this.errorHandler.showError(validation.errorId, validation.result.errorMessage!);\n                return false;\n            }\n            return true;\n        });\n    }\n\n    private hideError(errorId: string): void {\n        this.errorHandler.hideError(errorId);\n    }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    new MainApplication();\n});"],"names":["DOMHandler","constructor","xInput","yInput","canvas","form","this","initializeElements","document","getElementById","getFormValues","x","value","trim","y","r","getSelectedRadius","getForm","selectedRadio","querySelector","parseFloat","addFormSubmitListener","handler","addEventListener","addYInputListener","addXChangeListener","addRadiusChangeListener","querySelectorAll","forEach","radio","getXInput","getYInput","setRadiusValue","checked","ErrorHandler","showError","errorId","message","errorElement","textContent","style","color","fontSize","display","setTimeout","hideError","console","warn","hideAllErrors","id","Validator","validateX","xValue","isValid","errorMessage","validateY","yValue","yNumber","isNaN","validateR","radiusValue","validateAllFields","result","CanvasHandler","errorHandler","ctx","points","currentR","CANVAS_WIDTH","CANVAS_HEIGHT","CENTER_X","CENTER_Y","GRAPH_SIZE","MAX_R","initializeCanvas","getContext","setupEventListeners","event","handleCanvasClick","setCurrentR","redrawPoints","getPointColor","point","hit","rect","getBoundingClientRect","scale","clickX","clientX","left","clickY","clientY","top","log","graphX","graphY","submitPointToServer","hiddenForm","createElement","method","action","hiddenX","type","name","toFixed","toString","appendChild","hiddenY","hiddenR","body","submit","drawPoint","canvasX","canvasY","beginPath","arc","Math","PI","fillStyle","fill","strokeStyle","lineWidth","stroke","clearRect","addResultPoint","pointToAdd","push","SVGHandler","centerX","centerY","initializeSVG","updateSVGWithR","input","target","R","R_HALF","R_FULL","rectangle","setAttribute","quarterCircle","quarterCirclePath","triangle","trianglePoints","MainApplication","domHandler","validator","canvasHandler","svgHandler","initializeEventListeners","initializeResultPoints","handleRadiusChange","row","cells","length","firstResult","rCell","e","handleYInput","reset","handleFormSubmit","preventDefault","formValues","validations","handleValidationResults","replace","every","validation"],"sourceRoot":""}